[pytest]
# Esto es vital para que pytest encuentre tus módulos (app, core, etc.) desde la raíz
pythonpath = .

# Aquí le indicamos dónde buscar los tests
testpaths = tests modules

# Patrones de archivos que pytest considerará como tests
python_files = test_*.py *_test.py

# Patrones para funciones y clases
python_functions = test_*
python_classes = Test*

# Opciones por defecto:
# -v: verbose (más detalle)
# --tb=short: traza de error corta (para no llenar la pantalla)
addopts = -v --tb=short

# Tus marcadores personalizados
markers =
    integration: marca tests como pruebas de integración
    unit: marca tests como pruebas unitarias
    asyncio: marca para tests asincronos (si usas pytest-asyncio)

# Filtro de warnings para mantener la salida limpia
filterwarnings =
    ignore::DeprecationWarning
    ignore::UserWarning